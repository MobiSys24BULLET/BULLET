set(source_files
    model/game-client.cc
    model/game-server.cc
    model/network-packet-header.cc
    model/network-packet.cc
    model/packet-receiver.cc
    model/packet-sender.cc
    model/packet-receiver-udp.cc
    model/packet-sender-udp.cc
    model/packet-receiver-tcp.cc
    model/packet-sender-tcp.cc
    model/video-decoder.cc
    model/video-encoder.cc
    model/fec-policy/packet-group.cc
    model/fec-policy/fec-policy.cc
    model/fec-policy/hairpin-policy.cc
    model/fec-policy/other-policy.cc
    model/fec-policy/fec-array.cc
    model/fec-policy/feconly-fec-array.cc
    model/fec-policy/webrtc-fec-array.cc
    model/congestion-control/rtc_base/checks.cc
    model/congestion-control/sender-based-controller.cc
    model/congestion-control/nada-controller.cc
    model/congestion-control/gcc-controller.cc
)

set(header_files
    model/game-client.h
    model/game-server.h
    model/network-packet-header.h
    model/network-packet.h
    model/packet-receiver.h
    model/packet-sender.h
    model/packet-receiver-udp.h
    model/packet-sender-udp.h
    model/packet-receiver-tcp.h
    model/packet-sender-tcp.h
    model/video-decoder.h
    model/video-encoder.h
    model/fec-policy/packet-group.h
    model/fec-policy/fec-policy.h
    model/fec-policy/hairpin-policy.h
    model/fec-policy/other-policy.h
    model/fec-policy/fec-array.h
    model/fec-policy/feconly-fec-array.h
    model/fec-policy/webrtc-fec-array.h
    model/congestion-control/rtc_base/checks.h
    model/congestion-control/rtc_base/type_traits.h
    model/congestion-control/rtc_base/numeric/safe_compare.h
    model/congestion-control/rtc_base/numeric/safe_minmax.h
    model/congestion-control/rtc_base/system/inline.h
    model/congestion-control/sender-based-controller.h
    model/congestion-control/nada-controller.h
    model/congestion-control/gcc-controller.h
    model/utils.h
)

build_lib(
  LIBNAME bitrate-ctrl
  SOURCE_FILES ${source_files}
  HEADER_FILES ${header_files}
  LIBRARIES_TO_LINK
    ${libinternet}
    ${libnetwork}
)